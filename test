define ind1 as IND1;
define ind2 as IND2;
define ind3 as IND3;
define ind4 as IND4;
define s1 as S1;
define s2 as S2;
define s3 as S3;
define s4 as S4;
define dout as DOUT;
define t1 as T1;
define t2 as T2;
define t3 as T3;
define t4 as T4;
define isStand as CTRL_STATE;
define checkSum as EE_SUM;
define led0 as LED0;
define led1 as LED1;
define led2 as LED2;
define led3 as LED3;
define video as VIDEO_MODE;
define long_up as LONG_BTN_UP;
define long_down as LONG_BTN_DOWN;
define enter as BTN_ENTR_STATUS;
define up as BTN_UP;
define down as BTN_DOWN;


label 0;
s1 = 1; ind2 = 1; ind3 = 1;
init x = t3 + t4 + isStand + checkSum == 12580;
x = x ? 1 : 2;
goto x;
delete x;

label 1;
init x;
x = isStand ? 4 : 5;
goto x;
delete x;

label 2;
t3 = 24;
isStand = 1;
define z as TMP20;
z = 4;
erase z;
goto 3;

label 3;
define next_state as TMP20;
init x = 12580 - (t3 + t4 + isStand);
checkSum = x;
x = next_state;
erase next_state;
goto x;
delete x;

label 4;
s1 = 0; s2 = 0; s3 = 0; s4 = 0;
ind1 = 0; ind2 = 0; ind3 = 0; ind4 = 0;
video = 0;
isStand = 0;
init x = long_up && long_down;
x = x ? 3 : 4;
define y as TMP20;
y = 5;
erase y;
goto x;
delete x;

label 5;
if (video == 0) { led0 = 234; }
if (video == 1) { led0 = 118; }
if (video == 2) { led0 = 236; }
if (video == 3) { led0 = 236; }
goto 6;

label 6;
init x = !enter;
init y = (video == 0) && x;
if (y && down) { video = 2; }
if (y && up) { video = 1; }
y = (video == 1) && x;
if (y && up) { video = 2; }
if (y && down) { video = 0; }
y = (video == 2) && x;
if (y && up) { video = 0; }
if (y && down) { video = 1; }
delete x;
delete y;
goto 5;


init tmp1 = (t1 - oldt1 > 5);
init tmp2 = (oldt1 - t1 > 5);
if (tmp1 || tmp2) { outside = oldt1; }
if (!tmp1 && !tmp2) { outside = t1; }
tmp1 = (t2 - oldt2 > 5);
tmp2 = (oldt2 - t2 > 5);
if (tmp1 || tmp2) { inside = oldt2; }
if (!tmp1 && !tmp2) { inside = t2; }
delete tmp1; delete tmp2;


